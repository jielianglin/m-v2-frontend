{"ast":null,"code":"import _slicedToArray from\"/Users/jielianglin/Desktop/m-v2-frontend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import Typography from\"@material-ui/core/Typography\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FileInput(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),text=_useState2[0],showText=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),src=_useState4[0],setSrc=_useState4[1];var fileInput=useRef(null);var handleImageSelection=function handleImageSelection(event){//\nprops.selectedImage(event.target.files[0]);//\nvar file=event.target.files[0];var reader=new FileReader();reader.onload=function(e){setSrc(e.target.result);};reader.readAsDataURL(file);};useEffect(function(){if(src){showText(false);props.showInputForms();console.log(\"showInputForms\");}},[src]);var openFileInput=function openFileInput(){fileInput.current.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"image-input\",onClick:openFileInput,style:{width:\"100%\",// height: \"400px\",\ncolor:\"black\"},children:[text&&/*#__PURE__*/_jsx(Typography,{variant:\"h2\",style:{color:\"#000000\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",backgroundColor:\"#FFFFFF\",padding:\"50px\"},children:[\"click\",/*#__PURE__*/_jsx(\"br\",{}),\"+\",/*#__PURE__*/_jsx(\"br\",{}),\"upload\"]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",padding:\"40px\"},children:/*#__PURE__*/_jsx(\"img\",{style:{maxWidth:\"700px\",height:\"100%\"},className:\"loaded-image\",src:src,alt:\"\"})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{ref:fileInput,style:{display:\"none\"},type:\"file\",accept:\"image/*\",onChange:handleImageSelection})})]});}","map":{"version":3,"sources":["/Users/jielianglin/Desktop/m-v2-frontend/frontend/src/components/upload/FileInputWellBeing.js"],"names":["React","useState","useRef","useEffect","Typography","FileInput","props","text","showText","src","setSrc","fileInput","handleImageSelection","event","selectedImage","target","files","file","reader","FileReader","onload","e","result","readAsDataURL","showInputForms","console","log","openFileInput","current","click","width","color","textAlign","backgroundColor","padding","display","justifyContent","maxWidth","height"],"mappings":"oIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,C,wFAEA,cAAe,SAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CAEvC,cAAyBL,QAAQ,CAAC,IAAD,CAAjC,wCAAOM,IAAP,eAAaC,QAAb,eACA,eAAsBP,QAAQ,CAAC,IAAD,CAA9B,yCAAOQ,GAAP,eAAYC,MAAZ,eACA,GAAMC,CAAAA,SAAS,CAAGT,MAAM,CAAC,IAAD,CAAxB,CAEA,GAAMU,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAAW,CACtC;AACAP,KAAK,CAACQ,aAAN,CAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB,EACA;AACA,GAAIC,CAAAA,IAAI,CAAGJ,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX,CACA,GAAIE,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACAD,MAAM,CAACE,MAAP,CAAgB,SAAUC,CAAV,CAAa,CAC3BX,MAAM,CAACW,CAAC,CAACN,MAAF,CAASO,MAAV,CAAN,CACD,CAFD,CAGAJ,MAAM,CAACK,aAAP,CAAqBN,IAArB,EACD,CAVD,CAYAd,SAAS,CAAC,UAAM,CACd,GAAIM,GAAJ,CAAS,CACPD,QAAQ,CAAC,KAAD,CAAR,CACAF,KAAK,CAACkB,cAAN,GAEAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACD,CACF,CAPQ,CAON,CAACjB,GAAD,CAPM,CAAT,CASA,GAAMkB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BhB,SAAS,CAACiB,OAAV,CAAkBC,KAAlB,GACD,CAFD,CAIA,mBACE,aACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAEF,aAFX,CAGE,KAAK,CAAE,CACLG,KAAK,CAAE,MADF,CAEL;AAEAC,KAAK,CAAE,OAJF,CAHT,WAUGxB,IAAI,eACH,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAE,CAAEwB,KAAK,CAAE,SAAT,CAAhC,uBACE,aAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAuBC,eAAe,CAAE,SAAxC,CAAmDC,OAAO,CAAE,MAA5D,CAAZ,gCAEE,aAFF,kBAIE,aAJF,YADF,EAXJ,cAqBE,YAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,cAAc,CAAE,QAAnC,CAA6CF,OAAO,CAAE,MAAtD,CAAZ,uBACE,YACE,KAAK,CAAE,CAAEG,QAAQ,CAAE,OAAZ,CAAqBC,MAAM,CAAE,MAA7B,CADT,CAEE,SAAS,CAAC,cAFZ,CAGE,GAAG,CAAE7B,GAHP,CAIE,GAAG,CAAC,EAJN,EADF,EArBF,cA8BE,oCACE,cACE,GAAG,CAAEE,SADP,CAEE,KAAK,CAAE,CAAEwB,OAAO,CAAE,MAAX,CAFT,CAGE,IAAI,CAAC,MAHP,CAIE,MAAM,CAAC,SAJT,CAKE,QAAQ,CAAEvB,oBALZ,EADF,EA9BF,GADF,CA0CD","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function FileInput(props) {\n\n  const [text, showText] = useState(true);\n  const [src, setSrc] = useState(null);\n  const fileInput = useRef(null);\n\n  const handleImageSelection = (event) => {\n    //\n    props.selectedImage(event.target.files[0]);\n    //\n    let file = event.target.files[0];\n    let reader = new FileReader();\n    reader.onload = function (e) {\n      setSrc(e.target.result);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  useEffect(() => {\n    if (src) {\n      showText(false);\n      props.showInputForms();\n\n      console.log(\"showInputForms\");\n    }\n  }, [src]);\n\n  const openFileInput = () => {\n    fileInput.current.click();\n  };\n\n  return (\n    <div\n      className=\"image-input\"\n      onClick={openFileInput}\n      style={{\n        width: \"100%\",\n        // height: \"400px\",\n\n        color: \"black\",\n      }}\n    >\n      {text &&\n        <Typography variant=\"h2\" style={{ color: \"#000000\" }}>\n          <div style={{ textAlign: \"center\", backgroundColor: \"#FFFFFF\", padding: \"50px\" }}>\n            click\n            <br />\n            +\n            <br />\n            upload\n          </div>\n        </Typography>\n      }\n      <div style={{ display: \"flex\", justifyContent: \"center\", padding: \"40px\" }}>\n        <img\n          style={{ maxWidth: \"700px\", height: \"100%\" }}\n          className=\"loaded-image\"\n          src={src}\n          alt=\"\"\n        />\n      </div>\n\n      <label>\n        <input\n          ref={fileInput}\n          style={{ display: \"none\" }}\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handleImageSelection}\n        />\n      </label>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}