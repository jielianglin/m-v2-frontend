{"ast":null,"code":"var _jsxFileName = \"/Users/jielianglin/Desktop/m-v2-frontend/frontend/src/pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport axios from \"axios\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Landing from './home/Landing';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const [account, createAccount] = React.useState(false);\n  const [username, setUsername] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [rePassword, setRePassword] = React.useState(\"\");\n  const [returnedUsername, setReturnedUsername] = React.useState(\"\");\n  const [form, setForm] = React.useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    repassword: \"\"\n  });\n  const [loginForm, setLoginForm] = React.useState({\n    username: \"\",\n    password: \"\",\n    repassword: \"\"\n  });\n  const [login, setLogin] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(true);\n\n  const handleUserName = event => {\n    setUsername(event.target.value);\n  };\n\n  const handleEmail = event => {\n    setEmail(event.target.value);\n  };\n\n  const handlePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const handleRePassword = event => {\n    setRePassword(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setForm({\n      username: username,\n      email: email,\n      password: password,\n      repassword: rePassword\n    });\n  };\n\n  useEffect(() => {\n    let formData = new FormData();\n    formData.append(\"newUser\", form);\n    axios.post(\"http://localhost:8000/user\", formData).then(response => {\n      createAccount(true);\n      setReturnedUsername(response.data.username);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [handleSubmit]);\n\n  const handleLogin = event => {\n    event.preventDefault();\n    setLogin(true);\n    setLoginForm({\n      username: username,\n      password: password,\n      repassword: rePassword\n    });\n  };\n\n  useEffect(() => {\n    let formData = new FormData();\n    formData.append(\"userLogin\", loginForm);\n    axios.post(\"http://localhost:8000/user\", formData).then(response => {\n      setLoggedIn(true);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [handleLogin]);\n\n  if (account) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        children: [\" Hi \", returnedUsername, \"! Your account has been created.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: login ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            id: \"demo-helper-text-misaligned\",\n            label: \"Username\",\n            margin: \"normal\",\n            onChange: handleUserName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            id: \"demo-helper-text-misaligned\",\n            label: \"Password\",\n            margin: \"normal\",\n            onChange: handlePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            id: \"demo-helper-text-misaligned\",\n            label: \"Re-type Password\",\n            margin: \"normal\",\n            onChange: handleRePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleLogin,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: \" Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this), loggedIn ? /*#__PURE__*/_jsxDEV(Landing, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 37\n        }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"Incorrect login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"50px\",\n          display: \"block\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            id: \"demo-helper-text-misaligned\",\n            label: \"Username\",\n            margin: \"normal\",\n            onChange: handleUserName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            id: \"demo-helper-text-misaligned\",\n            label: \"Email\",\n            margin: \"normal\",\n            onChange: handleEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            id: \"demo-helper-text-misaligned\",\n            label: \"Password\",\n            margin: \"normal\",\n            onChange: handlePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            id: \"demo-helper-text-misaligned\",\n            label: \"Re-type Password\",\n            margin: \"normal\",\n            onChange: handleRePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h7\",\n              children: \" Create Account \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleLogin,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h7\",\n              children: \" Login to  Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(Login, \"H8hLV8ZPLYOiW164kUtOeDqKA60=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/jielianglin/Desktop/m-v2-frontend/frontend/src/pages/Login.js"],"names":["React","useEffect","axios","TextField","Button","Typography","Landing","Login","account","createAccount","useState","username","setUsername","password","setPassword","email","setEmail","rePassword","setRePassword","returnedUsername","setReturnedUsername","form","setForm","repassword","loginForm","setLoginForm","login","setLogin","loggedIn","setLoggedIn","handleUserName","event","target","value","handleEmail","handlePassword","handleRePassword","handleSubmit","preventDefault","formData","FormData","append","post","then","response","data","catch","error","console","log","handleLogin","padding","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport axios from \"axios\";\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Landing from './home/Landing';\n\nexport default function Login() {\n\n    const [account, createAccount] = React.useState(false);\n    const [username, setUsername] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    const [email, setEmail] = React.useState(\"\");\n    const [rePassword, setRePassword] = React.useState(\"\");\n    const [returnedUsername, setReturnedUsername] = React.useState(\"\");\n\n    const [form, setForm] = React.useState(\n        {\n            username: \"\",\n            email: \"\",\n            password: \"\",\n            repassword: \"\"\n        }\n    );\n\n    const [loginForm, setLoginForm] = React.useState(\n        {\n            username: \"\",\n            password: \"\",\n            repassword: \"\"\n        }\n    );\n\n    const [login, setLogin] = React.useState(false);\n\n    const [loggedIn, setLoggedIn] = React.useState(true);\n\n\n    const handleUserName = (event) => {\n        setUsername(event.target.value);\n    }\n\n    const handleEmail = (event) => {\n        setEmail(event.target.value);\n    }\n\n    const handlePassword = (event) => {\n        setPassword(event.target.value);\n    }\n\n    const handleRePassword = (event) => {\n        setRePassword(event.target.value);\n    }\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        setForm({\n            username: username,\n            email: email,\n            password: password,\n            repassword: rePassword\n        })\n    }\n\n\n    useEffect(() => {\n        let formData = new FormData();\n        formData.append(\"newUser\", form);\n        axios.post(\"http://localhost:8000/user\", formData)\n            .then(response => {\n                createAccount(true);\n                setReturnedUsername(response.data.username)\n            })\n            .catch(error => {\n                console.log(error);\n            });\n\n    }, [handleSubmit]);\n\n    const handleLogin = (event) => {\n        event.preventDefault();\n        setLogin(true);\n        setLoginForm({\n            username: username,\n            password: password,\n            repassword: rePassword\n        })\n    }\n\n    useEffect(() => {\n        let formData = new FormData();\n        formData.append(\"userLogin\", loginForm);\n        axios.post(\"http://localhost:8000/user\", formData)\n            .then(response => {\n                setLoggedIn(true);\n            })\n            .catch(error => {\n                console.log(error);\n            });\n\n    }, [handleLogin]);\n\n    if (account) {\n        return (\n            <div>\n                <br />\n                <Typography variant=\"h3\" > Hi {returnedUsername}! Your account has been created.</Typography>\n            </div>\n        )\n    }\n\n    else {\n        return (\n            <div>\n                {login ?\n                    <div>\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <TextField\n                                variant=\"outlined\"\n                                id=\"demo-helper-text-misaligned\"\n                                label=\"Username\"\n                                margin=\"normal\"\n                                onChange={handleUserName}\n                            />\n                        </div>\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <TextField\n                                variant=\"outlined\"\n                                id=\"demo-helper-text-misaligned\"\n                                label=\"Password\"\n                                margin=\"normal\"\n                                onChange={handlePassword}\n                            />\n                        </div>\n\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <TextField\n                                variant=\"outlined\"\n                                id=\"demo-helper-text-misaligned\"\n                                label=\"Re-type Password\"\n                                margin=\"normal\"\n                                onChange={handleRePassword}\n                            />\n                        </div>\n                        <Button onClick={handleLogin}>\n                            <Typography variant=\"h5\"> Login</Typography>\n                        </Button>\n\n                        {/* is this nested properly? */}\n\n                        {loggedIn ? <Landing /> : <Typography variant=\"h5\">Incorrect login</Typography>}\n\n                    </div>\n\n                    :\n\n                    <div style={{ padding: \"50px\", display: \"block\" }}>\n                        <br />\n                        <br />\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <TextField\n                                variant=\"outlined\"\n                                id=\"demo-helper-text-misaligned\"\n                                label=\"Username\"\n                                margin=\"normal\"\n                                onChange={handleUserName}\n                            />\n                        </div>\n\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <TextField\n                                variant=\"outlined\"\n                                id=\"demo-helper-text-misaligned\"\n                                label=\"Email\"\n                                margin=\"normal\"\n                                onChange={handleEmail}\n                            />\n                        </div>\n\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <TextField\n                                variant=\"outlined\"\n                                id=\"demo-helper-text-misaligned\"\n                                label=\"Password\"\n                                margin=\"normal\"\n                                onChange={handlePassword}\n                            />\n                        </div>\n\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <TextField\n                                variant=\"outlined\"\n                                id=\"demo-helper-text-misaligned\"\n                                label=\"Re-type Password\"\n                                margin=\"normal\"\n                                onChange={handleRePassword}\n                            />\n                        </div>\n                        <br />\n                        <br />\n                        <br />\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <Button onClick={handleSubmit}>\n                                <Typography variant=\"h7\"> Create Account </Typography>\n                            </Button>\n                        </div>\n                        <div style={{\n                            padding: \"5px\",\n                            display: \"flex\",\n                            justifyContent: \"center\"\n                        }}>\n                            <Button onClick={handleLogin}>\n                                <Typography variant=\"h7\"> Login to  Account</Typography>\n                            </Button>\n                        </div>\n                    </div>\n                }\n            </div>);\n\n    }\n}"]},"metadata":{},"sourceType":"module"}