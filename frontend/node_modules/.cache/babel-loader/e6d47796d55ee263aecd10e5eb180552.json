{"ast":null,"code":"var _jsxFileName = \"/Users/jielianglin/Desktop/m-v2-frontend/frontend/src/components/explore/Echarts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport ReactEcharts from \"echarts-for-react\";\nimport axios from \"axios\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport { Typography, Chip, Avatar } from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport ImageList from '@material-ui/core/ImageList';\nimport ImageListItem from '@material-ui/core/ImageListItem';\nimport Carousel from 'react-material-ui-carousel';\nimport MatchBar from \"./Matchbar\"; // import Visual from \"./Visual\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  popover: {\n    pointerEvents: 'none'\n  },\n  paper: {\n    padding: theme.spacing(1),\n    backgroundColor: 'transparent'\n  },\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    backgroundColor: \"#E6DAC8\"\n  },\n  imageList: {\n    width: 500,\n    height: 450\n  }\n}));\nconst DialogContent = withStyles(theme => ({\n  root: {\n    padding: theme.spacing(2),\n    backgroundColor: \"#E6DAC8\"\n  }\n}))(MuiDialogContent);\n\nconst styles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n    color: \"#2B4466\",\n    backgroundColor: \"#E6DAC8\"\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n});\n\nconst DialogTitle = withStyles(styles)(props => {\n  const {\n    children,\n    classes,\n    onClose,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(MuiDialogTitle, {\n    disableTypography: true,\n    className: classes.root,\n    ...other,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), onClose ? /*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-label\": \"close\",\n      className: classes.closeButton,\n      onClick: onClose,\n      children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n});\nexport default function Chart() {\n  _s();\n\n  const [open, setOpen] = React.useState(false);\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null); // const [response, setResponse] = React.useState( {tags: null, preview: null, carousel: null})\n\n  const [graph, setGraph] = React.useState({\n    nodes: [],\n    links: []\n  });\n  const [imagePreview, setImagePreview] = React.useState([]);\n  const [results, setResults] = React.useState([]);\n  const [gallery, setGallery] = React.useState(false);\n  const [carousel, setCarousel] = React.useState(false);\n\n  const showDialog = () => {\n    setOpen(true);\n    setGallery(!gallery);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const showPopover = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const closePopover = () => {\n    setAnchorEl(null);\n  };\n\n  const openPopover = Boolean(anchorEl);\n\n  function getRandomColor() {\n    var value = Math.random() * 0xff | 0;\n    var grayscale = value << 16 | value << 8 | value;\n    var color = \"#\" + grayscale.toString(16);\n    return color;\n  }\n\n  const onEvents = {\n    'mouseMove': showPopover,\n    'click': showDialog\n  };\n  useEffect(() => {\n    async function fetchData() {\n      const tags = await axios.get(\"http://127.0.0.1:8000/tags/network\");\n      setGraph(tags.data); //not sure about the preview call\n\n      const preview = await axios.get(`http://127.0.0.1:8000/images?tag=${graph}`);\n      var randomPreview = preview[Math.floor(Math.random() * preview.length)];\n      setImagePreview(randomPreview);\n      const images = await axios.get(`http://127.0.0.1:8000/images?tag=${graph}`);\n      setResults(images.data);\n    }\n\n    fetchData();\n  }, []);\n  let option = {\n    tooltip: {\n      alwaysShowContent: true\n    },\n    series: [{\n      type: \"graph\",\n      layout: \"force\",\n      data: graph.nodes.map(n => ({ ...n,\n        symbolSize: n.value * 3,\n        itemStyle: {\n          color: getRandomColor()\n        }\n      })),\n      links: graph.links.map(l => ({ ...l,\n        lineStyle: {\n          color: \"#24e1ea\"\n        }\n      })),\n      roam: true,\n      label: {\n        position: \"right\"\n      },\n      force: {\n        repulsion: 100\n      }\n    }]\n  };\n\n  const showCarousel = e => {\n    setGallery(!gallery); // setSlidePosition(e.target.id);\n\n    setCarousel(!carousel);\n  };\n\n  const showGallery = () => {\n    setCarousel(!carousel);\n    setGallery(!gallery);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"eCharts\",\n      children: /*#__PURE__*/_jsxDEV(ReactEcharts, {\n        style: {\n          width: \"100%\",\n          height: \"100vh\",\n          zIndex: \"auto\"\n        },\n        option: option,\n        onEvents: onEvents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"eChartsPreview\",\n      children: /*#__PURE__*/_jsxDEV(Popover, {\n        id: \"mouse-over-popover\",\n        className: classes.popover,\n        classes: {\n          paper: classes.paper\n        },\n        elevation: 0,\n        open: openPopover,\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          vertical: 'center',\n          horizontal: 'center'\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        onClose: closePopover,\n        disableRestoreFocus: true,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderRadius: \"3px\",\n            height: \"110px\",\n            width: \"110px\",\n            boxShadow: \"3px 3px 3px #b4beb7\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imagePreview,\n            width: \"110px\",\n            alt: \"\",\n            style: {\n              borderRadius: \"3px\"\n            },\n            onMouseLeave: closePopover\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"eChartsGallery\",\n      children: /*#__PURE__*/_jsxDEV(Dialog, {\n        onClose: handleClose,\n        \"aria-labelledby\": \"simple-dialog-title\",\n        open: open,\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle //newTitle={newTitle}\n        , {\n          id: \"customized-dialog-title\",\n          onClose: handleClose,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: [\"Images for `$\", graph.n, \"`\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          dividers: true,\n          children: [gallery && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gallery\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.root,\n              children: /*#__PURE__*/_jsxDEV(ImageList, {\n                rowHeight: 160,\n                className: classes.imageList,\n                cols: 3,\n                children: results.map(item => /*#__PURE__*/_jsxDEV(ImageListItem, {\n                  cols: item.cols || 1,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.id,\n                    alt: \"\",\n                    maxHeight: \"100px\",\n                    onClick: showCarousel\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 49\n                  }, this)\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 29\n          }, this), carousel && /*#__PURE__*/_jsxDEV(Carousel, {\n            children: results.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"carouselResults\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: \"mtag-label\",\n                children: [\" \", item.caption]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                cols: item.cols || 1,\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"center\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  id: item.id,\n                  src: item.src,\n                  alt: \"\",\n                  maxHeight: \"100px\",\n                  onClick: showGallery\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 45\n                }, this)\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"metadata\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"block\",\n                    textAlign: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    className: \"mtag-label\",\n                    children: \" Our Tags:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"userTags\",\n                  style: {\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    padding: \"10px\"\n                  },\n                  children: item.tags.map(posttag => {\n                    return /*#__PURE__*/_jsxDEV(Chip, {\n                      className: \"chip1\",\n                      style: {\n                        color: \"#B272CE\",\n                        backgroundColor: \"#FFFFFF\"\n                      },\n                      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n                        style: {\n                          color: \"#B272CE\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            color: \"#FFFFFF\"\n                          },\n                          children: \"#\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 278,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 61\n                      }, this),\n                      label: posttag.tag,\n                      component: \"a\",\n                      href: \"#chip\",\n                      variant: \"outlined\",\n                      color: \"primary\",\n                      clickable: true\n                    }, posttag.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 57\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"block\",\n                    textAlign: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    className: \"ai_tags\",\n                    children: \" AI Tags:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"AITAgs\",\n                  style: {\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    padding: \"10px\"\n                  },\n                  children: item.ai_tags.map(aitag => {\n                    return /*#__PURE__*/_jsxDEV(Chip, {\n                      className: \"chip2\",\n                      style: {\n                        color: \"#000000\",\n                        backgroundColor: \"#FFFFFF\"\n                      },\n                      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n                        style: {\n                          background: \"#B5BCB4\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            color: \"#FFFFFF\"\n                          },\n                          children: \"#\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 307,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 306,\n                        columnNumber: 61\n                      }, this),\n                      label: aitag.tag,\n                      component: \"a\",\n                      href: \"#chip\",\n                      clickable: true\n                    }, aitag.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 57\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: item.ai_tags.map(aiitem => {\n                    return /*#__PURE__*/_jsxDEV(MatchBar, {\n                      match: parseFloat(aiitem.confidence),\n                      aitag: aiitem.tag\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 57\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chart, \"pulIJ0kYugCAoP/fDYhT2MSykPI=\", false, function () {\n  return [useStyles];\n});\n\n_c = Chart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"sources":["/Users/jielianglin/Desktop/m-v2-frontend/frontend/src/components/explore/Echarts.js"],"names":["React","useEffect","ReactEcharts","axios","Popover","Dialog","MuiDialogTitle","MuiDialogContent","Typography","Chip","Avatar","IconButton","CloseIcon","withStyles","makeStyles","ImageList","ImageListItem","Carousel","MatchBar","useStyles","theme","popover","pointerEvents","paper","padding","spacing","backgroundColor","root","display","flexWrap","justifyContent","overflow","imageList","width","height","DialogContent","styles","margin","color","closeButton","position","right","top","palette","grey","DialogTitle","props","children","classes","onClose","other","Chart","open","setOpen","useState","anchorEl","setAnchorEl","graph","setGraph","nodes","links","imagePreview","setImagePreview","results","setResults","gallery","setGallery","carousel","setCarousel","showDialog","handleClose","showPopover","event","currentTarget","closePopover","openPopover","Boolean","getRandomColor","value","Math","random","grayscale","toString","onEvents","fetchData","tags","get","data","preview","randomPreview","floor","length","images","option","tooltip","alwaysShowContent","series","type","layout","map","n","symbolSize","itemStyle","l","lineStyle","roam","label","force","repulsion","showCarousel","e","showGallery","zIndex","vertical","horizontal","borderRadius","boxShadow","item","cols","id","caption","src","textAlign","posttag","tag","ai_tags","aitag","background","aiitem","parseFloat","confidence"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport ReactEcharts from \"echarts-for-react\";\nimport axios from \"axios\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport { Typography, Chip, Avatar } from \"@material-ui/core\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ImageList from '@material-ui/core/ImageList';\nimport ImageListItem from '@material-ui/core/ImageListItem';\n\nimport Carousel from 'react-material-ui-carousel';\n\nimport MatchBar from \"./Matchbar\";\n// import Visual from \"./Visual\";\n\nconst useStyles = makeStyles((theme) => ({\n    popover: {\n        pointerEvents: 'none',\n    },\n    paper: {\n        padding: theme.spacing(1),\n        backgroundColor: 'transparent',\n    },\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'space-around',\n        overflow: 'hidden',\n        backgroundColor: \"#E6DAC8\",\n    },\n    imageList: {\n        width: 500,\n        height: 450,\n    },\n}));\n\nconst DialogContent = withStyles((theme) => ({\n    root: {\n        padding: theme.spacing(2),\n        backgroundColor: \"#E6DAC8\"\n    },\n}))(MuiDialogContent);\n\nconst styles = (theme) => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(2),\n        color: \"#2B4466\",\n        backgroundColor: \"#E6DAC8\",\n    },\n    closeButton: {\n        position: \"absolute\",\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n\n    },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n    const { children, classes, onClose, ...other } = props;\n    return (\n        <MuiDialogTitle disableTypography className={classes.root} {...other}>\n            <Typography variant=\"h6\">{children}</Typography>\n            {onClose ? (\n                <IconButton\n                    aria-label=\"close\"\n                    className={classes.closeButton}\n                    onClick={onClose}\n                >\n                    <CloseIcon />\n                </IconButton>\n            ) : null}\n        </MuiDialogTitle>\n    );\n});\n\nexport default function Chart() {\n    const [open, setOpen] = React.useState(false);\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    // const [response, setResponse] = React.useState( {tags: null, preview: null, carousel: null})\n    const [graph, setGraph] = React.useState({ nodes: [], links: [] });\n    const [imagePreview, setImagePreview] = React.useState([]);\n    const [results, setResults] = React.useState([]);\n    const [gallery, setGallery] = React.useState(false);\n    const [carousel, setCarousel] = React.useState(false);\n\n    const showDialog = () => {\n        setOpen(true);\n        setGallery(!gallery)\n    }\n\n    const handleClose = () => {\n        setOpen(false);\n\n    };\n    const showPopover = (event) => {\n        setAnchorEl(event.currentTarget);\n    }\n\n    const closePopover = () => {\n        setAnchorEl(null);\n    };\n\n    const openPopover = Boolean(anchorEl);\n\n    function getRandomColor() {\n        var value = (Math.random() * 0xff) | 0;\n        var grayscale = (value << 16) | (value << 8) | value;\n        var color = \"#\" + grayscale.toString(16);\n        return color;\n    }\n\n    const onEvents = {\n        'mouseMove': showPopover,\n        'click': showDialog\n    }\n\n    useEffect(() => {\n        async function fetchData() {\n            const tags = await axios.get(\"http://127.0.0.1:8000/tags/network\");\n            setGraph(tags.data);\n            //not sure about the preview call\n            const preview = await axios.get(`http://127.0.0.1:8000/images?tag=${graph}`);\n            var randomPreview = preview[Math.floor(Math.random() * preview.length)];\n            setImagePreview(randomPreview);\n            const images = await axios.get(`http://127.0.0.1:8000/images?tag=${graph}`)\n            setResults(images.data);\n        }\n        fetchData();\n    }, []);\n\n    let option = {\n        tooltip: {\n            alwaysShowContent: true,\n        },\n        series: [\n            {\n                type: \"graph\",\n                layout: \"force\",\n                data: graph.nodes.map((n) => ({\n                    ...n,\n                    symbolSize: n.value * 3,\n                    itemStyle: { color: getRandomColor() },\n                })),\n                links: graph.links.map((l) => ({\n                    ...l,\n                    lineStyle: { color: \"#24e1ea\" },\n                })),\n                roam: true,\n                label: {\n                    position: \"right\",\n                },\n                force: {\n                    repulsion: 100,\n                },\n            },\n        ],\n    };\n    const showCarousel = (e) => {\n        setGallery(!gallery);\n        // setSlidePosition(e.target.id);\n        setCarousel(!carousel);\n    }\n    const showGallery = () => {\n        setCarousel(!carousel);\n        setGallery(!gallery);\n    }\n\n    return (\n        <div>\n\n            <div className=\"eCharts\">\n                <ReactEcharts style={{ width: \"100%\", height: \"100vh\", zIndex: \"auto\" }} option={option} onEvents={onEvents} />\n            </div>\n            {/* <div> <Visual style={{ position: \"absolute\", zIndex: -1 }} /> </div> */}\n            <div className=\"eChartsPreview\">\n                <Popover\n                    id=\"mouse-over-popover\"\n                    className={classes.popover}\n                    classes={{\n                        paper: classes.paper,\n                    }}\n                    elevation={0}\n                    open={openPopover}\n                    anchorEl={anchorEl}\n                    anchorOrigin={{\n                        vertical: 'center',\n                        horizontal: 'center',\n                    }}\n                    transformOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right',\n                    }}\n                    onClose={closePopover}\n                    disableRestoreFocus\n                >\n                    <div\n                        style={{\n                            borderRadius: \"3px\",\n                            height: \"110px\",\n                            width: \"110px\",\n                            boxShadow: \"3px 3px 3px #b4beb7\"\n                        }}\n                    >\n                        <img src={imagePreview}\n                            width=\"110px\" alt=\"\"\n                            style={{\n                                borderRadius: \"3px\",\n                            }}\n                            onMouseLeave={closePopover}\n                        />\n                    </div>\n                </Popover>\n            </div>\n            <div className=\"eChartsGallery\">\n                <Dialog\n                    onClose={handleClose}\n                    aria-labelledby=\"simple-dialog-title\"\n                    open={open}\n                    maxWidth=\"md\"\n                    fullWidth={true}\n                >\n                    <DialogTitle\n                        //newTitle={newTitle}\n                        id=\"customized-dialog-title\"\n                        onClose={handleClose}\n                    >\n                        <Typography variant=\"h5\">Images for `${graph.n}`</Typography>\n                    </DialogTitle>\n                    <DialogContent dividers>\n                        {gallery && (\n                            <div className=\"gallery\">\n                                <div className={classes.root}>\n                                    <ImageList rowHeight={160} className={classes.imageList} cols={3}>\n                                        {results.map((item) => (\n                                            <ImageListItem key={item.id} cols={item.cols || 1} >\n                                                <img src={item.id} alt=\"\" maxHeight=\"100px\"\n                                                    onClick={showCarousel}\n                                                />\n                                            </ImageListItem>\n                                        ))}\n                                    </ImageList>\n                                </div>\n                            </div>\n                        )}\n                        {carousel && (\n                            <Carousel>\n                                {results.map((item) => (\n                                    <div className=\"carouselResults\">\n                                        <Typography className=\"mtag-label\"> {item.caption}\n                                        </Typography>\n                                        <div key={item.id} cols={item.cols || 1} style={{ display: \"flex\", justifyContent: \"center\" }}>\n                                            <img id={item.id} src={item.src} alt=\"\" maxHeight=\"100px\" onClick={showGallery}\n                                            />\n                                        </div>\n\n                                        <div className=\"metadata\" >\n                                            <div style={{ display: \"block\", textAlign: \"center\" }}>\n                                                <Typography className=\"mtag-label\"> Our Tags:\n                                                </Typography>\n                                            </div>\n                                            <div className=\"userTags\" style={{ display: \"flex\", justifyContent: \"center\", padding: \"10px\" }}>\n\n                                                {item.tags.map((posttag) => {\n\n                                                    return (\n                                                        <Chip className=\"chip1\" style={{ color: \"#B272CE\", backgroundColor: \"#FFFFFF\" }} avatar={\n                                                            <Avatar style={{ color: \"#B272CE\" }}>\n                                                                <div style={{ color: \"#FFFFFF\" }}>\n                                                                    #\n                                                                </div>\n                                                            </Avatar>\n                                                        }\n                                                            key={posttag.id}\n                                                            label={posttag.tag}\n                                                            component=\"a\"\n                                                            href=\"#chip\"\n                                                            variant=\"outlined\"\n                                                            color=\"primary\"\n                                                            clickable\n                                                        />\n                                                    );\n                                                })}\n                                            </div>\n\n                                            <div style={{ display: \"block\", textAlign: \"center\" }}>\n                                                <Typography className=\"ai_tags\"> AI Tags:\n                                                </Typography>\n                                            </div>\n                                            <div className=\"AITAgs\" style={{ display: \"flex\", justifyContent: \"center\", padding: \"10px\" }}>\n\n\n                                                {item.ai_tags.map((aitag) => {\n\n                                                    return (\n                                                        <Chip className=\"chip2\" style={{ color: \"#000000\", backgroundColor: \"#FFFFFF\" }} avatar={\n                                                            <Avatar style={{ background: \"#B5BCB4\" }}>\n                                                                <div style={{ color: \"#FFFFFF\" }}>\n                                                                    #\n                                                                </div>\n                                                            </Avatar>\n                                                        }\n                                                            key={aitag.id}\n                                                            label={aitag.tag}\n                                                            component=\"a\"\n                                                            href=\"#chip\"\n                                                            clickable\n                                                        />\n                                                    );\n                                                })}\n                                            </div>\n                                            <div>\n                                                {item.ai_tags.map((aiitem) => {\n                                                    return (\n                                                        <MatchBar\n                                                            match={parseFloat(aiitem.confidence)}\n                                                            aitag={aiitem.tag}\n                                                        />\n                                                    );\n                                                })}\n                                            </div>\n                                        </div>\n                                    </div>))}\n                            </Carousel>\n                        )\n                        }\n                    </DialogContent>\n                </Dialog>\n            </div>\n        </div>);\n}\n"]},"metadata":{},"sourceType":"module"}