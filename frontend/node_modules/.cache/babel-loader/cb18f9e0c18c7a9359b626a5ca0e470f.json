{"ast":null,"code":"import _slicedToArray from\"/Users/jielianglin/Desktop/m-v2-frontend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import Typography from\"@material-ui/core/Typography\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FileInput(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),src=_useState2[0],setSrc=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],showText=_useState4[1];var fileInput=useRef(null);var handleImageSelection=function handleImageSelection(event){props.selectedImage(event.target.files[0]);var file=event.target.files[0];var reader=new FileReader();reader.onload=function(e){setSrc(e.target.result);};reader.readAsDataURL(file);};useEffect(function(){if(src){props.showInputForms();showText(false);}},[src]);var openFileInput=function openFileInput(){fileInput.current.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"image-input\",onClick:openFileInput,children:[text&&/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",maxHeight:\"400px\"},children:/*#__PURE__*/_jsx(Typography,{variant:\"h2\",style:{color:\"#000000\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",backgroundColor:\"#FFFFFF\"},children:[/*#__PURE__*/_jsx(\"br\",{}),\"click\",/*#__PURE__*/_jsx(\"br\",{}),\"+\",/*#__PURE__*/_jsx(\"br\",{}),\"upload\"]})})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",padding:\"40px\"},children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"100%\"},className:\"loaded-image\",src:src,alt:\"\"})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{ref:fileInput,style:{display:\"none\"},type:\"file\",accept:\"image/*\",onChange:handleImageSelection})})]});}","map":{"version":3,"sources":["/Users/jielianglin/Desktop/m-v2-frontend/frontend/src/components/upload/uploadButton/FileInputSimple.js"],"names":["React","useState","useRef","useEffect","Typography","FileInput","props","src","setSrc","text","showText","fileInput","handleImageSelection","event","selectedImage","target","files","file","reader","FileReader","onload","e","result","readAsDataURL","showInputForms","openFileInput","current","click","width","maxHeight","color","textAlign","backgroundColor","display","justifyContent","padding","height"],"mappings":"oIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,C,wFAEA,cAAe,SAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CAEvC,cAAsBL,QAAQ,CAAC,IAAD,CAA9B,wCAAOM,GAAP,eAAYC,MAAZ,eACA,eAAyBP,QAAQ,CAAC,IAAD,CAAjC,yCAAOQ,IAAP,eAAaC,QAAb,eACA,GAAMC,CAAAA,SAAS,CAAGT,MAAM,CAAC,IAAD,CAAxB,CAEA,GAAMU,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAAW,CACtCP,KAAK,CAACQ,aAAN,CAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB,EAEA,GAAIC,CAAAA,IAAI,CAAGJ,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX,CACA,GAAIE,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACAD,MAAM,CAACE,MAAP,CAAgB,SAAUC,CAAV,CAAa,CAC3Bb,MAAM,CAACa,CAAC,CAACN,MAAF,CAASO,MAAV,CAAN,CACD,CAFD,CAGAJ,MAAM,CAACK,aAAP,CAAqBN,IAArB,EACD,CATD,CAWAd,SAAS,CAAC,UAAM,CACd,GAAII,GAAJ,CAAS,CACPD,KAAK,CAACkB,cAAN,GACAd,QAAQ,CAAC,KAAD,CAAR,CACD,CACF,CALQ,CAKN,CAACH,GAAD,CALM,CAAT,CAOA,GAAMkB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1Bd,SAAS,CAACe,OAAV,CAAkBC,KAAlB,GACD,CAFD,CAIA,mBACE,aACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAEF,aAFX,WAIGhB,IAAI,eACH,YACE,KAAK,CAAE,CACLmB,KAAK,CAAE,MADF,CAELC,SAAS,CAAE,OAFN,CADT,uBAME,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAT,CAAhC,uBACE,aAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAuBC,eAAe,CAAE,SAAxC,CAAZ,wBACE,aADF,sBAGE,aAHF,kBAKE,aALF,YADF,EANF,EALJ,cAuBE,YAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,cAAc,CAAE,QAAnC,CAA6CC,OAAO,CAAE,MAAtD,CAAZ,uBACE,YACE,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAV,CADT,CAEE,SAAS,CAAC,cAFZ,CAGE,GAAG,CAAE7B,GAHP,CAIE,GAAG,CAAC,EAJN,EADF,EAvBF,cA+BE,oCACE,cACE,GAAG,CAAEI,SADP,CAEE,KAAK,CAAE,CAAEsB,OAAO,CAAE,MAAX,CAFT,CAGE,IAAI,CAAC,MAHP,CAIE,MAAM,CAAC,SAJT,CAKE,QAAQ,CAAErB,oBALZ,EADF,EA/BF,GADF,CA2CD","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function FileInput(props) {\n\n  const [src, setSrc] = useState(null);\n  const [text, showText] = useState(true);\n  const fileInput = useRef(null);\n\n  const handleImageSelection = (event) => {\n    props.selectedImage(event.target.files[0]);\n\n    let file = event.target.files[0];\n    let reader = new FileReader();\n    reader.onload = function (e) {\n      setSrc(e.target.result);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  useEffect(() => {\n    if (src) {\n      props.showInputForms();\n      showText(false);\n    }\n  }, [src]);\n\n  const openFileInput = () => {\n    fileInput.current.click();\n  };\n\n  return (\n    <div\n      className=\"image-input\"\n      onClick={openFileInput}\n    >\n      {text &&\n        <div\n          style={{\n            width: \"100%\",\n            maxHeight: \"400px\",\n          }}>\n\n          <Typography variant=\"h2\" style={{ color: \"#000000\" }}>\n            <div style={{ textAlign: \"center\", backgroundColor: \"#FFFFFF\", }}>\n              <br />\n              click\n              <br />\n              +\n              <br />\n              upload\n            </div>\n          </Typography>\n        </div>\n      }\n      <div style={{ display: \"flex\", justifyContent: \"center\", padding: \"40px\" }}>\n        <img\n          style={{ height: \"100%\" }}\n          className=\"loaded-image\"\n          src={src}\n          alt=\"\"\n        />\n      </div>\n      <label>\n        <input\n          ref={fileInput}\n          style={{ display: \"none\" }}\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handleImageSelection}\n        />\n      </label>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}